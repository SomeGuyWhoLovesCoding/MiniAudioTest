<xml>
	<pragma once="true" />
	<set name="HL_INCLUDE" value="${HASHLINK}/include" if="HASHLINK windows" unless="HL_INCLUDE" />
	<set name="HL_BIN" value="${HASHLINK}" if="HASHLINK windows" unless="HL_BIN" />

	<set name="PROJECT_DIR" value="${this_dir}/Source" />

	<files id="haxe">
		<compilerflag value="-I${PROJECT_DIR}/miniaudio" />
	</files>

	<files id="miniaudio">
		<compilerflag value="-I${HL_INCLUDE}" if="HL_INCLUDE" />
		<compilerflag value="-I${PROJECT_DIR}/miniaudio" />
		<compilerflag value="-I${PROJECT_DIR}/miniaudio/include" />
		<compilerflag value="-I${PROJECT_DIR}/miniaudio/signalsmith-stretch" />
		<file name="${PROJECT_DIR}/miniaudio/ma_thing.cpp" />
		<compilerflag value="-I${HASHLINK}" />
	</files>

	<target id="haxe">
		<files id="miniaudio" />
		<echo value="haha" />
	</target>

	<target id="default" output="ma_thing" toolid="dll" tool="linker">
		<section if="mingw || macos || linux">
			<lib name="-lpthread" />
		</section>

		<files id="miniaudio" />
		<libpath name="${HL_BIN}" if="windows" />
		<libpath name="/usr/local/lib" if='macos' />
		<lib name="libhl.lib" if="windows" />
		<lib name="-lhl" unless="windows" />
		<ext value=".hdll" />
		<outdir name="out" />
	</target>
</xml>